<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Didactic Eureka</title>

<style>
body{margin:0;font-family:Georgia,serif;background:#f6f5f2;color:#141}
header{background:#fff;border-bottom:1px solid #ddd;padding:14px}
nav{display:flex;gap:8px;overflow-x:auto}
nav button{border:none;background:#eee;padding:6px 12px;border-radius:20px;cursor:pointer}
nav button.active{background:#ccc}
main{max-width:900px;margin:auto;padding:20px}
.item{padding:8px 0;border-bottom:1px solid #ddd}
.item button{background:none;border:none;color:#1f3cff;cursor:pointer;font-size:16px}
</style>
</head>

<body>

<header>
  <h1>Didactic Eureka</h1>
  <nav id="nav"></nav>
</header>

<main id="content">Cargandoâ€¦</main>

<script>
function titleize(name){
  return name
    .replace(/\.pdf$/i,"")
    .replace(/[_\-]+/g," ")
    .toLowerCase()
    .replace(/\b\w/g,l=>l.toUpperCase());
}

fetch("manifest.json")
.then(r=>r.json())
.then(manifest=>{
  const nav=document.getElementById("nav");
  const content=document.getElementById("content");

  function showFolder(folder,name){
    content.innerHTML="";
    const node=folder;
    node.files.forEach(f=>{
      const d=document.createElement("div");
      d.className="item";
      d.innerHTML=`<button onclick="window.open('${name}/${f}','_blank')">${titleize(f)}</button>`;
      content.appendChild(d);
    });
  }

  Object.entries(manifest.folders).forEach(([name,folder],i)=>{
    const b=document.createElement("button");
    b.textContent=titleize(name);
    b.onclick=()=>{
      document.querySelectorAll("nav button").forEach(x=>x.classList.remove("active"));
      b.classList.add("active");
      showFolder(folder,name);
    };
    nav.appendChild(b);
    if(i===0) b.click();
  });
});
</script>

</body>
</html>
