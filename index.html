<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Didactic-Eureka</title>

<style>
/* ========= BASE ========= */
body {
  margin: 0;
  font-family: system-ui, -apple-system, Segoe UI, sans-serif;
  background: radial-gradient(circle at top, #0a2540, #020617);
  color: #e5e7eb;
}

/* ========= PORTADA ========= */
.hero {
  position: relative;
  height: 70vh;
  background: url("assets/images/index.jpg") center/cover no-repeat;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
}

.hero::after {
  content: "";
  position: absolute;
  inset: 0;
  background: rgba(2,6,23,0.65);
}

.hero-content {
  position: relative;
  z-index: 1;
}

.hero h1 {
  font-size: 3.5rem;
  margin: 0;
}

.hero p {
  font-size: 1.3rem;
  opacity: 0.85;
}

/* ========= NAV ========= */
nav {
  display: flex;
  gap: 16px;
  justify-content: center;
  padding: 16px;
  background: #020617;
  border-bottom: 1px solid #1e3a8a;
}

nav button {
  background: none;
  border: 1px solid #1e3a8a;
  color: #e5e7eb;
  padding: 8px 18px;
  border-radius: 999px;
  cursor: pointer;
}

/* ========= CONTENIDO ========= */
main {
  max-width: 1100px;
  margin: 40px auto;
  padding: 0 16px;
}

.article-list a {
  display: block;
  padding: 12px;
  margin-bottom: 10px;
  border-radius: 12px;
  background: linear-gradient(135deg,#0a2540,#020617);
  text-decoration: none;
  color: #e5e7eb;
  border: 1px solid #1e3a8a;
}

/* ========= VIDEO ========= */
.video {
  max-width: 900px;
  margin: 60px auto;
}
.video iframe {
  width: 100%;
  height: 500px;
  border-radius: 16px;
  border: none;
}
</style>
</head>

<body>

<section class="hero">
  <div class="hero-content">
    <h1>Didactic-Eureka</h1>
    <p>La maravilla de aprender</p>
  </div>
</section>

<nav id="tabs"></nav>

<main>
  <div id="content" class="article-list">
    <p>Selecciona una categoría.</p>
  </div>
</main>

<section class="video">
  <iframe
    src="https://www.youtube.com/embed/Qz1BU-FPkU8?start=21"
    allowfullscreen>
  </iframe>
</section>

<script>
/* ========= NAVEGACIÓN PDF-FIRST ========= */

const OWNER  = "TomasLavadosSepulveda";
const REPO   = "didactic-eureka";
const BRANCH = "main";

const tabs = document.getElementById("tabs");
const content = document.getElementById("content");

function titleCase(str) {
  return str.replace(/[-_]/g," ")
            .toLowerCase()
            .replace(/\b\w/g,c=>c.toUpperCase());
}

async function fetchDir(path="") {
  const r = await fetch(
    `https://api.github.com/repos/${OWNER}/${REPO}/contents/${path}?ref=${BRANCH}`
  );
  return r.ok ? r.json() : [];
}

/* ---- verifica si una carpeta contiene PDFs ---- */
async function hasPDF(dir) {
  const items = await fetchDir(dir);
  return items.some(
    f => f.type === "file" && f.name.toLowerCase().endsWith(".pdf")
  );
}

/* ---- carga artículos PDF ---- */
async function loadCategory(dir) {
  content.innerHTML = "";
  const items = await fetchDir(dir);

  const pdfs = items.filter(
    f => f.type === "file" && f.name.toLowerCase().endsWith(".pdf")
  );

  if (!pdfs.length) {
    content.innerHTML = "<p>No hay artículos en esta categoría.</p>";
    return;
  }

  pdfs.forEach(f => {
    const a = document.createElement("a");
    a.href = `https://raw.githubusercontent.com/${OWNER}/${REPO}/${BRANCH}/${f.path}`;
    a.target = "_blank";
    a.rel = "noopener";
    a.textContent = titleCase(f.name.replace(".pdf",""));
    content.appendChild(a);
  });
}

/* ---- inicialización ---- */
(async ()=>{
  const root = await fetchDir();

  for (const d of root) {
    if (d.type !== "dir") continue;
    if (d.name.startsWith(".")) continue;

    if (await hasPDF(d.name)) {
      const b = document.createElement("button");
      b.textContent = titleCase(d.name);
      b.onclick = ()=>loadCategory(d.name);
      tabs.appendChild(b);
    }
  }
})();
</script>

</body>
</html>





